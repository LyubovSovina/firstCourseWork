let Size=document.querySelector(".SizeMatrix"),N=Size.value,matrix=[];CreateMatrix(N),CreateFree(N),Size.oninput=function(){for(let t=0;t<2*N;t++){var e=document.getElementById("str");e.parentNode.removeChild(e)}N=Size.value,CreateMatrix(N),CreateFree(N)};let Get=document.querySelector(".Get"),count=0;function det(e,t){if(1==e)return t[0][0];if(2==e)return t[0][0]*t[1][1]-t[0][1]*t[1][0];let n=0;for(let r=0;r<e;++r){let l=[[0,0],[0,0]];for(let n=0;n<e-1;++n){for(let e=0;e<r;++e)l[n][e]=t[n+1][e];for(let a=r;a<e-1;++a)l[n][a]=t[n+1][a+1]}n+=t[0][r]*det(e-1,l)*Math.pow(-1,r)}return n}function det2(e,t,n,r){let l=t;for(let t=0;t<e;++t)l[t][n]=r[t];return det(e,l)}function CreateMatrix(e){for(var t=document.createDocumentFragment(),n=0;n<e;n++){var r=document.createElement("tr");r.id="str";for(var l=0;l<e;l++){var a=document.createElement("td"),d=document.createElement("input");d.type="number",d.className="Elements",d.value=null,a.appendChild(d),r.appendChild(a)}t.appendChild(r)}document.getElementById("matrix").appendChild(t)}function CreateFree(e){for(var t=document.createDocumentFragment(),n=0;n<e;n++){var r=document.createElement("tr");r.id="str";var l=document.createElement("td"),a=document.createElement("input");a.type="number",a.className="Free",a.value=null,l.appendChild(a),r.appendChild(l),t.appendChild(r)}document.getElementById("free").appendChild(t)}function GetMatrix(e){for(let t=0;t<e;t++){matrix[t]=[];for(let n=0;n<e;n++){let r=document.getElementsByClassName("Elements")[t*e+n];matrix[t][n]=r.value}}for(let t=0;t<e;t++){let e=document.getElementsByClassName("Free")[t];free[t]=e.value}}function PrintResult(e,t,n,r){let l=document.createDocumentFragment(),a=document.createElement("p");a.innerText+="Метод Крамера (правило Крамера) — способ решения систем линейных алгебраических уравнений с числом уравнений равным числу неизвестных с ненулевым главным определителем матрицы коэффициентов системы (причём для таких уравнений решение существует и единственно).";let d=document.createElement("p");d.innerText+="Преобразованная матрица равна: ";let m=document.createElement("table");for(var i=0;i<r;i++){for(var c=document.createElement("tr"),o=0;o<r;o++){var u=document.createElement("td");u.innerHTML=e[i][o],c.appendChild(u)}m.appendChild(c)}let p=document.createElement("p");p.innerText+="Матрица свободных членов равна: ";let f=document.createElement("table");var C=document.createElement("tr");for(i=0;i<r;i++){var E=document.createElement("td");E.innerHTML=t[i],C.appendChild(E)}f.appendChild(C);let h=document.createElement("p");h.innerText+="Решение данной системы линейных уравнений: ";let v=document.createElement("table");var s=document.createElement("tr");for(i=0;i<r;i++){var x=document.createElement("td");x.innerText+=" x"+i+" = ",x.innerHTML+=n[i],s.appendChild(x)}v.appendChild(s),l.appendChild(a),l.appendChild(d),l.appendChild(m),l.appendChild(p),l.appendChild(f),l.appendChild(h),l.appendChild(v),document.getElementById("result").appendChild(l)}Get.onclick=function(){if(0!=count)for(var e=document.getElementById("result");e.firstChild;)e.removeChild(e.firstChild);GetMatrix(N);let t=[],n=det(N,matrix);for(let e=0;e<N;++e)GetMatrix(N),t[e]=det2(N,matrix,e,free)/n;PrintResult(matrix,free,t,N),count++};