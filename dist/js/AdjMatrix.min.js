let Size=document.querySelector(".SizeMatrix"),N=Size.value,matrix=[];CreateMatrix(N),Size.oninput=function(){for(let t=0;t<N;t++){var e=document.getElementById("str");e.parentNode.removeChild(e)}N=Size.value,CreateMatrix(N)};let Get=document.querySelector(".Get"),count=0;function Determinant(e){let t=e.length,n=[],r=1,l=0;for(let r=0;r<t;++r){n[r]=[];for(let l=0;l<t;++l)n[r][l]=e[r][l]}for(let e=0;e<t-1;++e){let a=e,o=Math.abs(n[e][e]);for(let r=e+1;r<t;++r){let t=Math.abs(n[r][e]);t>o&&(a=r,o=t)}if(a>e){let t=n[e];n[e]=n[a],n[a]=t,++l}else if(0==o)return o;let i=n[e][e];for(let l=e+1;l<t;++l){let a=n[l][e];n[l][e]=0;for(let o=e+1;o<t;++o)n[l][o]=(n[l][o]*i-n[e][o]*a)/r}r=i}return l%2?-n[t-1][t-1]:n[t-1][t-1]}function CreateMatrix(e){for(var t=document.createDocumentFragment(),n=0;n<e;n++){var r=document.createElement("tr");r.id="str";for(var l=0;l<e;l++){var a=document.createElement("td"),o=document.createElement("input");o.type="number",o.className="Elements",o.value=null,a.appendChild(o),r.appendChild(a)}t.appendChild(r)}document.getElementById("matrix").appendChild(t)}function GetMatrix(e){for(let t=0;t<e;t++){matrix[t]=[];for(let n=0;n<e;n++){let r=document.getElementsByClassName("Elements")[t*e+n];matrix[t][n]=r.value}}}function PrintResult(e,t){let n=document.createDocumentFragment(),r=document.createElement("p");r.innerText+="Союзная матрица - это матрица, состоящая из алгебраических дополнений соответствующих элементов, т.е. вместо элемента стоит его алгебраическое дополнение";let l=document.createElement("p");l.innerText+="Алгебраическое дополнение - это минор, умноженный на (-1) в степени равной сумме номера столбца и строки.";let a=document.createElement("p");a.innerText+="Минор - определитель матрицы, полученной путём вычёркивания строки и столбца, в которых расположен элемент, чей минор мы ищем.";let o=document.createElement("p");o.innerText+="Союзная матрица для данной матрицы равна: ";let i=document.createElement("table");for(var d=0;d<t;d++){for(var m=document.createElement("tr"),c=0;c<t;c++){var u=document.createElement("td");u.innerHTML=e[d][c],m.appendChild(u)}i.appendChild(m)}n.appendChild(r),n.appendChild(l),n.appendChild(a),n.appendChild(o),n.appendChild(i),document.getElementById("result").appendChild(n)}Get.onclick=function(){if(0!=count)for(var e=document.getElementById("result");e.firstChild;)e.removeChild(e.firstChild);GetMatrix(N);let t=[];for(let e=0;e<N;++e){t[e]=[];for(let n=0;n<N;++n){let r=[];for(let e=0;e<N-1;++e){r[e]=[];for(let t=0;t<N-1;t++)r[e][t]=0}let l=(e+n)%2==0?1:-1;for(let t=0;t<n;++t){for(let n=0;n<e;n++)r[n][t]=matrix[n][t];for(let n=e+1;n<N;n++)r[n-1][t]=matrix[n][t]}for(let t=n+1;t<N;++t){for(let n=0;n<e;n++)r[n][t-1]=matrix[n][t];for(let n=e+1;n<N;n++)r[n-1][t-1]=matrix[n][t]}t[e][n]=l*Determinant(r)}}PrintResult(t,N),count++};